<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" sizes="16x16 32x32 48x48" href="/assets/favicon/favicon.ico">
    <link rel="apple-touch-icon" href="/assets/favicon/apple-touch-icon.png"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Как создать блог на GitHub | alexeyfv</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Как создать блог на GitHub" />
<meta name="author" content="© 2024 Alexey Fedorov" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Многие программисты имеют свой блог, в которых пишут свои заметки. Очень часто блог реализован на Jekyll, Hugo или Gatsby.js, а для хранения, деплоя и хостинга используется GitHub и GitLab. В этом гайде я расскажу, как реализован мой блог на Jekyll и GitHub." />
<meta property="og:description" content="Многие программисты имеют свой блог, в которых пишут свои заметки. Очень часто блог реализован на Jekyll, Hugo или Gatsby.js, а для хранения, деплоя и хостинга используется GitHub и GitLab. В этом гайде я расскажу, как реализован мой блог на Jekyll и GitHub." />
<link rel="canonical" href="http://www.alexeyfv.xyz//2022/07/14/how-to-create-blog.html" />
<meta property="og:url" content="http://www.alexeyfv.xyz//2022/07/14/how-to-create-blog.html" />
<meta property="og:site_name" content="alexeyfv" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-07-14T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Как создать блог на GitHub" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"© 2024 Alexey Fedorov"},"description":"Многие программисты имеют свой блог, в которых пишут свои заметки. Очень часто блог реализован на Jekyll, Hugo или Gatsby.js, а для хранения, деплоя и хостинга используется GitHub и GitLab. В этом гайде я расскажу, как реализован мой блог на Jekyll и GitHub.","@type":"BlogPosting","headline":"Как создать блог на GitHub","dateModified":"2022-07-14T00:00:00+00:00","datePublished":"2022-07-14T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.alexeyfv.xyz//2022/07/14/how-to-create-blog.html"},"url":"http://www.alexeyfv.xyz//2022/07/14/how-to-create-blog.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://www.alexeyfv.xyz//feed.xml" title="alexeyfv" />
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">alexeyfv</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/tags/">Tags</a><a class="page-link" href="/cv/">CV</a><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article
  class="post h-entry"
  itemscope
  itemtype="http://schema.org/BlogPosting"
>
  <link rel="stylesheet" href="/static/glide/css/glide.core.min.css" />
  <link rel="stylesheet" href="/static/glide/css/glide.theme.min.css" />
  <script type="text/javascript" src="/static/glide/glide.min.js"></script>
  <link href="/static/syntax-highlighting.css" rel="stylesheet" />
  <link href="/static/image.css" rel="stylesheet" />
  <script>
    function initGlideCarousel() {
      var sliders = document.querySelectorAll(".glide");
      const conf = {};
      sliders.forEach((item) => {
        new Glide(item, conf).mount();
      });
    }
    document.addEventListener("DOMContentLoaded", initGlideCarousel);
  </script>
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">
      Как создать блог на GitHub
    </h1>
    <p class="post-meta"><time
        class="dt-published"
        datetime="2022-07-14T00:00:00+00:00"
        itemprop="datePublished"
      >
        Jul 14, 2022
      </time></p>
    
    <a class="post" href="/tag/blogging">#blogging</a>
    
    <a class="post" href="/tag/github">#github</a>
    
    <a class="post" href="/tag/jekyll">#jekyll</a>
    
    <a class="post" href="/tag/markdown">#markdown</a>
    
    <a class="post" href="/tag/html">#html</a>
    
  </header>

  <div class="post-content e-content" itemprop="articleBody"><p>Многие программисты имеют свой блог, в которых пишут свои заметки. Очень часто блог реализован на Jekyll, Hugo или Gatsby.js, а для хранения, деплоя и хостинга используется GitHub и GitLab. В этом гайде я расскажу, как реализован мой блог на Jekyll и GitHub.</p>

<h2 id="почему-github">Почему GitHub</h2>

<p>Причин множество:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">GitHub Pages</code> позволяет хостить статические сайты бесплатно.</li>
  <li><code class="language-plaintext highlighter-rouge">GitHub Pages</code> имеет встроенную поддержку <code class="language-plaintext highlighter-rouge">Jekyll</code>.</li>
  <li>Фиксация изменений в постах производится привычными командами <code class="language-plaintext highlighter-rouge">git commit</code> и <code class="language-plaintext highlighter-rouge">git push</code>.</li>
  <li>Хранение постов в удалённом репозитории.</li>
  <li><code class="language-plaintext highlighter-rouge">GitHub Actions</code> позволяет автоматически производить сборку и деплой проекта из репозитория.</li>
</ul>

<p>На самом деле, под такую задачу подходит не только <code class="language-plaintext highlighter-rouge">GitHub</code>. Например, <code class="language-plaintext highlighter-rouge">GitLab</code> обладает такими же возможностями.</p>

<h2 id="требования">Требования</h2>

<p>Для создания блога понадобится следующее:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Ruby</code> - сборка и запуск блога локально</li>
  <li><code class="language-plaintext highlighter-rouge">Jekyll</code> - конфигурирование блога</li>
  <li><code class="language-plaintext highlighter-rouge">Markdown</code> - создание постов с разметкой</li>
  <li><code class="language-plaintext highlighter-rouge">HTML</code>, <code class="language-plaintext highlighter-rouge">CSS</code>, <code class="language-plaintext highlighter-rouge">JavaScript</code> - редактирование макетов страниц, добавление скриптов</li>
  <li><code class="language-plaintext highlighter-rouge">Git</code> - фиксирование изменений</li>
  <li><code class="language-plaintext highlighter-rouge">GitHub</code> - хранение репозитория</li>
  <li><code class="language-plaintext highlighter-rouge">GitHub Actions</code> - сборка и деплой блога</li>
  <li><code class="language-plaintext highlighter-rouge">GitHub Pages</code> - хостинг блога</li>
</ul>

<p>Не нужно бояться этого списка. Быть экспертом во всём, что тут перечислено, необязательно. Например, <code class="language-plaintext highlighter-rouge">Ruby</code> понадобится только для того, чтобы запускать блог локально на компьютере. Теоретически, можно обойтись и без установки <code class="language-plaintext highlighter-rouge">Ruby</code> с <code class="language-plaintext highlighter-rouge">Jekyll</code>, но в таком случае, чтобы посмотреть на изменения, придётся каждый раз пушить изменения и ждать, пока блог соберётся и задеплоится.</p>

<h2 id="ruby-и-jekyll">Ruby и Jekyll</h2>

<h3 id="установка-ruby">Установка Ruby</h3>

<p><code class="language-plaintext highlighter-rouge">Jekyll</code> - это статический генератор сайтов. Вкратце, работает он так: создаётся пост с использованием разметки <code class="language-plaintext highlighter-rouge">Markdown</code>, а движок <code class="language-plaintext highlighter-rouge">Jekyll</code> преобразует их в статические <code class="language-plaintext highlighter-rouge">HTML</code> страницы. Поскольку <code class="language-plaintext highlighter-rouge">Jekyll</code> написан на <code class="language-plaintext highlighter-rouge">Ruby</code>, то сперва необходимо установить <code class="language-plaintext highlighter-rouge">Ruby</code>.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> В установке для Windows (сорян линуксоиды) нет ничего сложного - классическое “Далее, далее, далее, установить”.</p>

<h3 id="установка-jekyll">Установка Jekyll</h3>

<p>После установки <code class="language-plaintext highlighter-rouge">Ruby</code> устанавливается <code class="language-plaintext highlighter-rouge">Jekyll</code>. Делается это через пакетный менеджер для <code class="language-plaintext highlighter-rouge">Ruby</code>:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">gem install jekyll bundler
</span></code></pre></div></div>

<h3 id="создание-проекта">Создание проекта</h3>

<p>Создать проект блога можно из шаблона:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">jekyll new myblog
</span></code></pre></div></div>

<p>После выполнения команды, должна появится папка проекта блога с названием <code class="language-plaintext highlighter-rouge">myblog</code>:</p>

<p><img src="/assets/2022/../../../../../../assets/2022/05/2022-05-08-how-to-create-blog/Screenshot_1.png" alt="first-response" /></p>

<h3 id="структура-проекта">Структура проекта</h3>

<p>Посмотрим подробнее на созданные файлы.</p>

<h4 id="_configyml">_config.yml</h4>

<p>Конфигурация <code class="language-plaintext highlighter-rouge">Jekyll</code>. Параметры, которые задаются в этом файле, влияют на весь блог. Информация на сайте <code class="language-plaintext highlighter-rouge">Jekyll</code> <sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> скудная, поэтому в качестве примера разберу конфигурацию моего блога: <sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Задаёт название сайта, которое отображается в заголовке страницы браузера.</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">alexeyfv.blog</span>
<span class="c1"># Задаёт описание сайта, которое отображается в заголовке страницы браузера.</span>
<span class="na">description</span><span class="pi">:</span> <span class="s">Articles about .NET, C# and much more</span>
<span class="c1"># Директория из которой будет загружаться блог. Можно оставить поле пустым.  </span>
<span class="na">baseurl</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
<span class="c1"># Полный URL сайта</span>
<span class="na">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">http://www.alexeyfv.xyz/"</span>

<span class="c1"># Тема блога.</span>
<span class="na">theme</span><span class="pi">:</span> <span class="s">minima</span>

<span class="c1"># Думаю, тут всё понятно.</span>
<span class="na">author</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">© 2022 Alexey Fedorov</span>

<span class="c1"># Параметры темы. Можно задать тёмный скин и добавить ссылки на свои социальные сети,</span>
<span class="c1"># которые будут отображаться в футере блога.</span>
<span class="na">minima</span><span class="pi">:</span>
  <span class="na">skin</span><span class="pi">:</span> <span class="s">dark</span>
  <span class="na">social_links</span><span class="pi">:</span>
    <span class="na">github</span><span class="pi">:</span> <span class="s">alexeyfv</span>
    <span class="na">linkedin</span><span class="pi">:</span> <span class="s">alexeyfv</span>
    <span class="na">telegram</span><span class="pi">:</span> <span class="s">alexeyfv</span>  

<span class="c1"># Страницы, которые будут отображаться в хедере блога.</span>
<span class="na">header_pages</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">_pages/tags.html</span>
  <span class="pi">-</span> <span class="s">_pages/projects.md</span>
<span class="c1">#   - _pages/setup.md</span>
  <span class="pi">-</span> <span class="s">_pages/about.</span>

<span class="c1"># Задаёт дополнительную папку, из которой будут загружаться страницы. </span>
<span class="c1"># По-умолчанию, страницы грузятся только из корневой папки.</span>
<span class="na">include</span><span class="pi">:</span> <span class="pi">[</span><span class="s1">'</span><span class="s">_pages'</span><span class="pi">]</span>

<span class="c1"># Включает отображение первого абзаца поста на главной странице.</span>
<span class="na">show_excerpts</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div>

<h4 id="gemfile-и-gemfilelock">Gemfile и Gemfile.lock</h4>

<p>Конфигурационные файлы для <code class="language-plaintext highlighter-rouge">Ruby</code>. В этих файлах указываются зависимости. Эти файлы редактировать не надо, т.к. <code class="language-plaintext highlighter-rouge">Bundler</code> (утилита для управления зависимостями) делает всё сам.</p>

<h4 id="indexmarkdown-aboutmarkdown-404html">index.markdown, about.markdown, 404.html</h4>

<p>Страницы блога. Тут можно написать всё что душе угодно, например создать кастомную заглушку для ошибки 404. <code class="language-plaintext highlighter-rouge">Jekyll</code> поддерживает как <code class="language-plaintext highlighter-rouge">HTML</code> страницы, так и страницы с разметкой Markdown. Для удобства, все страницы, кроме <code class="language-plaintext highlighter-rouge">index.markdown</code> можно вынести в отдельную папку.</p>

<p>При необходимости кастомизировать стили страниц или макеты, то можно поискать информацию в репозитории <code class="language-plaintext highlighter-rouge">minima</code><sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">4</a></sup>.</p>

<h4 id="папка-_posts">Папка _posts</h4>

<p>Папка для хранения постов. Посты, которые находятся в этой папке, будут отображаться на главной странице.</p>

<h3 id="запуск-блога-локально">Запуск блога локально</h3>

<p>Чтобы собрать и запустить блог локально необходимо выполнить команду:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">bundle exec jekyll serve
</span></code></pre></div></div>

<p>Если будет появляться ошибка с текстом <code class="language-plaintext highlighter-rouge">cannot load such file -- webrick (LoadError)</code>, то нужно добавить в <code class="language-plaintext highlighter-rouge">Gemfile</code> строку <code class="language-plaintext highlighter-rouge">gem "webrick", "~&gt; 1.7"</code></p>

<p>После запуска блог будет доступен по адресу <code class="language-plaintext highlighter-rouge">http://localhost:4000/</code>.</p>

<h2 id="настройка-блога">Настройка блога</h2>

<p>Теперь можно приступить к созданию постов. Документация по созданию постов на сайте <code class="language-plaintext highlighter-rouge">Jekyll</code><sup id="fnref:5" role="doc-noteref"><a href="#fn:5" class="footnote" rel="footnote">5</a></sup> достаточно подробная, поэтому не будем повторяться и рассмотрим только сложные моменты, с которыми я столкнулся при продумывании функционала блога.</p>

<h3 id="теги">Теги</h3>

<p>В <code class="language-plaintext highlighter-rouge">Jekyll</code> по умолчанию нет функционала тегов, поэтому для её реализации придётся вносить изменения в проект.</p>

<p>Для начала о том, какой функционал мне хотелось видеть в своём блоге:</p>

<ul>
  <li>Отображение тегов в посте.</li>
  <li>Просмотр списка существующих тегов.</li>
  <li>Подсчёт тегов.</li>
  <li>Фильтрация постов по тегам.</li>
</ul>

<p>Моя реализация тегов в <code class="language-plaintext highlighter-rouge">Jekyll</code> основана на двух инструкциях, <sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">6</a></sup> <sup id="fnref:7" role="doc-noteref"><a href="#fn:7" class="footnote" rel="footnote">7</a></sup> но с небольшими доработками.</p>

<h4 id="отображение-тегов-в-посте">Отображение тегов в посте</h4>

<p>Необходимо отредактировать макет поста. Для этого нужно скопировать файл <code class="language-plaintext highlighter-rouge">_layouts\post.html</code> из проекта <code class="language-plaintext highlighter-rouge">minima</code> <sup id="fnref:8" role="doc-noteref"><a href="#fn:8" class="footnote" rel="footnote">8</a></sup> в свой проект и добавить в конец элемента <code class="language-plaintext highlighter-rouge">header</code> следующий код<sup id="fnref:13" role="doc-noteref"><a href="#fn:13" class="footnote" rel="footnote">9</a></sup>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{% for tag in page.tags %}
<span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post"</span> <span class="na">href=</span><span class="s">"{{site.baseurl}}/tag/{{tag}}"</span><span class="nt">&gt;</span>#{{tag}}<span class="nt">&lt;/a&gt;</span>
{% endfor %}
</code></pre></div></div>

<h4 id="просмотр-списка-существующих-тегов-и-подсчёт-тегов">Просмотр списка существующих тегов и подсчёт тегов</h4>

<p>Во-первых, необходимо добавить страницу <code class="language-plaintext highlighter-rouge">_pages\tags.html</code> <sup id="fnref:14" role="doc-noteref"><a href="#fn:14" class="footnote" rel="footnote">10</a></sup> на которой будет отображаться список тегов:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
permalink: /tags/
layout: page
title: Tags
---

<span class="nt">&lt;ul&gt;</span>
    {% assign tags = site.posts | all_tags %}  
    {% for tag in tags %}
      <span class="nt">&lt;li&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"tag-link"</span>
          <span class="na">href=</span><span class="s">"{{site.baseurl}}/tag/{{tag['name']}}"</span><span class="nt">&gt;</span>
          #{{ tag['name'] }} ({{ tag['count'] }})
        <span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;/li&gt;</span>
    {% endfor %}
  <span class="nt">&lt;/ul&gt;</span>
</code></pre></div></div>

<p>Во-вторых, необходимо добавить плагин в папку <code class="language-plaintext highlighter-rouge">_plugins</code> <sup id="fnref:15" role="doc-noteref"><a href="#fn:15" class="footnote" rel="footnote">11</a></sup> , который будет подсчитывать теги по всем существующим постам:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Jekyll</span>
    <span class="k">module</span> <span class="nn">TagsCounter</span>
    <span class="kp">include</span> <span class="no">Liquid</span><span class="o">::</span><span class="no">StandardFilters</span>
  
    <span class="k">def</span> <span class="nf">all_tags</span><span class="p">(</span><span class="n">posts</span><span class="p">)</span>
      <span class="n">counts</span> <span class="o">=</span> <span class="p">{}</span>
  
      <span class="n">posts</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span>
        <span class="n">post</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="o">|</span>
          <span class="k">if</span> <span class="n">counts</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span>
            <span class="n">counts</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
          <span class="k">else</span>
            <span class="n">counts</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
          <span class="k">end</span>
        <span class="k">end</span>
      <span class="k">end</span>
  
      <span class="n">tags</span> <span class="o">=</span> <span class="n">counts</span><span class="p">.</span><span class="nf">keys</span>
      <span class="n">tags</span><span class="p">.</span><span class="nf">reject</span> <span class="p">{</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span> <span class="n">t</span><span class="p">.</span><span class="nf">empty?</span> <span class="p">}</span>
        <span class="p">.</span><span class="nf">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">tag</span><span class="o">|</span> <span class="p">{</span> <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="n">tag</span><span class="p">,</span> <span class="s1">'count'</span> <span class="o">=&gt;</span> <span class="n">counts</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span> <span class="p">}</span> <span class="p">}</span>
        <span class="p">.</span><span class="nf">sort</span> <span class="p">{</span> <span class="o">|</span><span class="n">tag1</span><span class="p">,</span> <span class="n">tag2</span><span class="o">|</span> <span class="n">tag2</span><span class="p">[</span><span class="s1">'count'</span><span class="p">]</span> <span class="o">&lt;=&gt;</span> <span class="n">tag1</span><span class="p">[</span><span class="s1">'count'</span><span class="p">]</span> <span class="p">}</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="no">Liquid</span><span class="o">::</span><span class="no">Template</span><span class="p">.</span><span class="nf">register_filter</span><span class="p">(</span><span class="no">Jekyll</span><span class="o">::</span><span class="no">TagsCounter</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="фильтрация-постов-по-тегам">Фильтрация постов по тегам</h4>

<p>Во-первых, необходимо добавить макет страницы на которой будет отображаться список постов с выбранным тегом <code class="language-plaintext highlighter-rouge">_layouts\tag.html</code> <sup id="fnref:16" role="doc-noteref"><a href="#fn:16" class="footnote" rel="footnote">12</a></sup>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: default
---

<span class="nt">&lt;h1&gt;</span>#{{page.tag}}<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  {% for post in site.posts %} {% if post.tags contains page.tag %}
  <span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post"</span> <span class="na">href=</span><span class="s">"{{post.url}}"</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
  {% endif %} {% endfor %}
<span class="nt">&lt;/ul&gt;</span>
</code></pre></div></div>

<p>Во-вторых, необходимо добавить плагин в папку <code class="language-plaintext highlighter-rouge">_plugins</code> <sup id="fnref:15:1" role="doc-noteref"><a href="#fn:15" class="footnote" rel="footnote">11</a></sup> , который будет генерировать страницы для тегов:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="nn">Jekyll</span>
    <span class="k">class</span> <span class="nc">TagPageGenerator</span> <span class="o">&lt;</span> <span class="no">Generator</span>
      <span class="n">safe</span> <span class="kp">true</span>
  
      <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>
        <span class="n">tags</span> <span class="o">=</span> <span class="n">site</span><span class="p">.</span><span class="nf">posts</span><span class="p">.</span><span class="nf">docs</span><span class="p">.</span><span class="nf">flat_map</span> <span class="p">{</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span> <span class="n">post</span><span class="p">.</span><span class="nf">data</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span> <span class="o">||</span> <span class="p">[]</span> <span class="p">}.</span><span class="nf">to_set</span>
        <span class="n">tags</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag</span><span class="o">|</span>
          <span class="n">site</span><span class="p">.</span><span class="nf">pages</span> <span class="o">&lt;&lt;</span> <span class="no">TagPage</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">site</span><span class="p">.</span><span class="nf">source</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
  
    <span class="k">class</span> <span class="nc">TagPage</span> <span class="o">&lt;</span> <span class="no">Page</span>
      <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="vi">@site</span> <span class="o">=</span> <span class="n">site</span>
        <span class="vi">@base</span> <span class="o">=</span> <span class="n">base</span>
        <span class="vi">@dir</span>  <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s1">'tag'</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="vi">@name</span> <span class="o">=</span> <span class="s1">'index.html'</span>
  
        <span class="nb">self</span><span class="p">.</span><span class="nf">process</span><span class="p">(</span><span class="vi">@name</span><span class="p">)</span>
        <span class="nb">self</span><span class="p">.</span><span class="nf">read_yaml</span><span class="p">(</span><span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="s1">'_layouts'</span><span class="p">),</span> <span class="s1">'tag.html'</span><span class="p">)</span>
        <span class="nb">self</span><span class="p">.</span><span class="nf">data</span><span class="p">[</span><span class="s1">'tag'</span><span class="p">]</span> <span class="o">=</span> <span class="n">tag</span>
        <span class="nb">self</span><span class="p">.</span><span class="nf">data</span><span class="p">[</span><span class="s1">'title'</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Tag: </span><span class="si">#{</span><span class="n">tag</span><span class="si">}</span><span class="s2">"</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
</code></pre></div></div>

<p>Этот плагин при сборке блога создаст директорию <code class="language-plaintext highlighter-rouge">site\tag</code> в которой будут папки для каждого из тегов. Каждая из таких папок будет содержать страницу <code class="language-plaintext highlighter-rouge">index.html</code>, которая содержит список постов с этим тегом.</p>

<h3 id="комментарии">Комментарии</h3>

<p>В <code class="language-plaintext highlighter-rouge">Jekyll</code> по умолчанию комментариев тоже нет, поэтому снова понадобится вносить изменения, правда не такие большие.</p>

<p>Вариантов виджетов <sup id="fnref:9" role="doc-noteref"><a href="#fn:9" class="footnote" rel="footnote">13</a></sup> для комментирования много. Я использую <code class="language-plaintext highlighter-rouge">utterances</code><sup id="fnref:10" role="doc-noteref"><a href="#fn:10" class="footnote" rel="footnote">14</a></sup> , потому что этот виджет основан на <code class="language-plaintext highlighter-rouge">GitHub Issues</code> и для его использования нужен только аккаунт <code class="language-plaintext highlighter-rouge">GitHub</code>. Инструкция на сайте <code class="language-plaintext highlighter-rouge">utterances</code> очень простая. Всё что нужно сделать - пройти по шагам для конфигурации JS-скрипта, а затем скопировать получившийся JS-скрипт в конец файла <code class="language-plaintext highlighter-rouge">_layouts\post.html</code>.</p>

<h2 id="сборка-и-деплой-через-github">Сборка и деплой через GitHub</h2>

<p>После того как проект готов, посты написаны, а изменения запушены, можно публиковать блог. Платформ для публикации блогов существует множество. Я выбрал <code class="language-plaintext highlighter-rouge">GitHub Pages</code> поскольку эта платформа имеет встроенную поддержку <code class="language-plaintext highlighter-rouge">Jekyll</code> и код блога лежит в моем профиле <code class="language-plaintext highlighter-rouge">GitHub</code>.</p>

<p>Политика безопасности <code class="language-plaintext highlighter-rouge">GitHub Pages</code> ограничивает использование кастомных плагинов для <code class="language-plaintext highlighter-rouge">Jekyll</code>, поэтому корректно собрать проект с дополнительными плагинами непосредственно при деплое не получится. Публикацию необходимо разбить на 2 шага:</p>

<ol>
  <li>Сборка проекта в отдельном воркфлоу <code class="language-plaintext highlighter-rouge">GitHub Actions</code></li>
  <li>Деплой собранного проекта в <code class="language-plaintext highlighter-rouge">GitHub Pages</code>.</li>
</ol>

<h3 id="сборка-проекта-в-отдельном-воркфлоу-github-actions">Сборка проекта в отдельном воркфлоу GitHub Actions</h3>

<p>Существуют готовые решения для сборки <code class="language-plaintext highlighter-rouge">Jekyll</code> проектов. <sup id="fnref:11" role="doc-noteref"><a href="#fn:11" class="footnote" rel="footnote">15</a></sup> Всё, что нужно сделать - добавить YAML файл в репозиторий блога. Это создаст новый воркфлоу в <code class="language-plaintext highlighter-rouge">Actions</code>. Как только изменения будут запушены в <code class="language-plaintext highlighter-rouge">master</code>, сработает этот воркфлоу. Когда сборка завершится, то собранный проект закоммитится в ветку <code class="language-plaintext highlighter-rouge">gh-pages</code>.</p>

<h3 id="деплой-собранного-проекта-в-github-pages">Деплой собранного проекта в GitHub Pages</h3>

<p>Деплой настраивается на вкладке Settings репозитория. Для того чтобы деплой запускался после предыдущего шага, нужно выбрать ветку <code class="language-plaintext highlighter-rouge">gh-pages</code>.</p>

<p><img src="/assets/2022/../../../../../../assets/2022/05/2022-05-08-how-to-create-blog/Screenshot_3.png" alt="first-response" /></p>

<p>Блог будет опубликован по адресу <code class="language-plaintext highlighter-rouge">https://&lt;username&gt;.github.io/&lt;projectname&gt;/</code>. При желании, можно использовать кастомный домен <sup id="fnref:12" role="doc-noteref"><a href="#fn:12" class="footnote" rel="footnote">16</a></sup> , но для этого понадобится купить его у провайдера.</p>

<h2 id="ссылки-и-источники">Ссылки и источники</h2>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p><a href="https://www.ruby-lang.org/en/downloads/">Download Ruby</a> <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p><a href="https://jekyllrb.com/docs/configuration/default/">Конфигурация Jekyll</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p><a href="https://github.com/alexeyfv/blog/blob/master/_config.yml">Конфигурация Jekyll для моего блога</a> <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p><a href="https://github.com/jekyll/minima">Репозиторий темы minima</a> <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:5" role="doc-endnote">
      <p><a href="https://jekyllrb.com/docs/posts/">Документация Jekyll по созданию постов</a> <a href="#fnref:5" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:6" role="doc-endnote">
      <p><a href="https://blog.lunarlogic.io/2019/managing-tags-in-jekyll-blog-easily/">Managing tags in Jekyll blog easily</a> <a href="#fnref:6" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:7" role="doc-endnote">
      <p><a href="https://vilcins.medium.com/tags-in-jekyll-3e1786ffc040">Tags in Jekyll</a> <a href="#fnref:7" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:8" role="doc-endnote">
      <p><a href="https://github.com/jekyll/minima/blob/master/_layouts/post.html">Файл макета post.html из minima</a> <a href="#fnref:8" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:13" role="doc-endnote">
      <p><a href="https://github.com/alexeyfv/blog/blob/master/_layouts/post.html">Файл макета _post.html из моего проекта</a> <a href="#fnref:13" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:14" role="doc-endnote">
      <p><a href="https://github.com/alexeyfv/blog/blob/master/_pages/tags.html">Файл tags.html</a> <a href="#fnref:14" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:15" role="doc-endnote">
      <p><a href="https://github.com/alexeyfv/blog/tree/master/_plugins">Папка с плагинами</a> <a href="#fnref:15" class="reversefootnote" role="doc-backlink">&#8617;</a> <a href="#fnref:15:1" class="reversefootnote" role="doc-backlink">&#8617;<sup>2</sup></a></p>
    </li>
    <li id="fn:16" role="doc-endnote">
      <p><a href="https://github.com/alexeyfv/blog/blob/master/_layouts/tag.html">Файл макета tag.html</a> <a href="#fnref:16" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:9" role="doc-endnote">
      <p><a href="https://webapps.stackexchange.com/questions/165528/how-to-add-comments-in-blog-posts-on-github-pages-websites">How to add comments in blog posts on GitHub-pages websites</a> <a href="#fnref:9" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:10" role="doc-endnote">
      <p><a href="https://utteranc.es/">Виджет utterances</a> <a href="#fnref:10" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:11" role="doc-endnote">
      <p><a href="https://github.com/jeffreytse/jekyll-deploy-action">Jekyll Deploy Action</a> <a href="#fnref:11" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:12" role="doc-endnote">
      <p><a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site">Managing a custom domain for your GitHub Pages site</a> <a href="#fnref:12" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>
</div><a class="u-url" href="/2022/07/14/how-to-create-blog.html" hidden></a>
</article>

<script
  src="https://utteranc.es/client.js"
  repo="alexeyfv/blog"
  issue-term="url"
  label="comment"
  theme="github-dark"
  crossorigin="anonymous"
  async
></script>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/"></data>
  
    <div class="wrapper">
  
      <div class="footer-col-wrapper">
        <div class="footer-col">
          <ul class="contact-list">
            <li class="p-name">© 2024 Alexey Fedorov</li>
              <li class="p-name">Powered by
                <a href="https://github.com/jekyll/jekyll">Jekyll</a> 
                &
                <a href="https://github.com/jekyll/minima">Minima</a>
              </li>
            </ul>
        </div>
        <div class="footer-col">
          <p>Articles about .NET, C# and much more</p>
        </div>
      </div>
  
      <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/alexeyfv" target="_blank" title="alexeyfv"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://www.linkedin.com/in/alexeyfv" target="_blank" title="alexeyfv"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg></a></li><li><a rel="me" href="https://t.me/alexeyfv" target="_blank" title="alexeyfv"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#telegram"></use></svg></a></li></ul></div>
  
    </div>
  
  </footer></body>

</html>
